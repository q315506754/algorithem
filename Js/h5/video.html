<html>
<head>
    <title>video</title>

    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <!--<link href="../common/assets/css/common.css" rel="stylesheet"/>-->

</head>


<body>
<div id="container">
    <video id="vd"
            width="100%"
            height="400"
            controls="controls"
            src="http://video.zhihuishu.com/zhs/createcourse/sectionVideo/201806/66d49a7045ee41e59de85d0011174e7b_512.mp4">
    </video>
</div>

<button id="jump" onclick="jump()">随机跳转</button>
<button onclick="pausex()">暂停</button>
<button onclick="continuex()">继续</button>
<div id="event">
</div>
<div id="log">
</div>

</body>
<!--<script src="../common/assets/js/jquery/jquery-1.8.3.min.js" type="text/javascript"></script>-->
<script src="https://cdn.bootcss.com/jquery/1.8.3/jquery.min.js" type="text/javascript"></script>
<script>
    //api
    //http://www.w3school.com.cn/jsref/dom_obj_video.asp
    var video = document.getElementById("vd");

    function log(msg) {
        $("#log").append(`<span>${msg}</span>`);
        $("#log").append("<br/>");
    }
    function loge(msg) {
        $("#event").append(`<span>${msg}</span>`);
        $("#event").append("<br/>");
    }

    function pausex() {
        video.pause();
    }
    function continuex() {
        video.play();
    }

    function jump() {
        //设置或返回视频中的当前播放位置（以秒计）。
        video.currentTime = video.duration * Math.random();
    }


    var i = setInterval(function() {
        // 这里注意, 必须判断视频的 readyState。
        // 因为有可能没加载完，则获取到的视频时长信息是不正确的。
        if(video.readyState > 0) {
            //empty
            $("#log").html("");

            // 计算,10进制，以及取模
            var minutes = parseInt(video.duration / 60, 10);
            var seconds = video.duration % 60;

            log(`总时长:${video.duration}`);
            log(`当前播放到:${video.currentTime}`);
            log(`是否暂停:${video.paused}`);
            log(`是否已结束:${video.ended}`);
            log(`用户当前是否正在视频中进行查找:${video.seeking}`);
            log(`当前网络状态:${video.networkState}`);
            // log(`已播放部分:${video.played}`);
            // console.log(video.played);
            log(`-----------------------------`);

            // (此处可以添加代码，将分钟，秒数显示到需要的地方)
            // ...
            // 执行到这里，就将循环定时器清除。
            // clearInterval(i);
        }
    }, 1000);

    $(function () {
        console.log("ok");
        log("loaded...");
        // alert("bingo");
    });

</script>

</html>
